rangers = [
    {
        name: "Jason Lee Scott (Mighty Morphin Red)",
        color: "red",
        team: "mmpr",
        era: "Saban"
    },
    {
        name: "Rocky DeSantos (Mighty Morphin Red)",
        color: "red",
        team: "mmpr",
        era: "Saban"
    },
    {
        name: "Zack Taylor",
        color: "black",
        team: "mmpr",
        era: "Saban"
    },
    {
        name: "Adam Park (Mighty Morphin Black)",
        color: "black",
        team: "mmpr",
        era: "Saban"
    },
    {
        name: "Billy Cranston",
        color: "blue",
        team: "mmpr",
        era: "Saban"
    },
    {
        name: "Trini Kwan",
        color: "yellow",
        team: "mmpr",
        era: "Saban"
    },
    {
        name: "Aisha Campbell",
        color: "yellow",
        team: "mmpr",
        era: "Saban"
    },
    {
        name: "Kimberly Ann Hart",
        color: "pink",
        team: "mmpr",
        era: "Saban"
    },
    {
        name: "Katherine Hillard (Mighty Morphin Pink)",
        color: "pink",
        team: "mmpr",
        era: "Saban"
    },
    {
        name: "Tommy Oliver (Mighty Morphin Green)",
        color: "green",
        team: "mmpr",
        era: "Saban"
    },
    {
        name: "Tommy Oliver (Mighty Morphin White)",
        color: "white",
        team: "mmpr",
        era: "Saban"
    },
    {
        name: "Tommy Oliver (Zeo Red)",
        color: "red",
        team: "zeo",
        era: "Saban"
    },
    {
        name: "Adam Park (Zeo Green)",
        color: "green",
        team: "zeo",
        era: "Saban"
    },
    {
        name: "Rocky DeSantos (Zeo Blue)",
        color: "blue",
        team: "zeo",
        era: "Saban"
    },
    {
        name: "Tanya Sloan (Zeo Yellow)",
        color: "yellow",
        team: "zeo",
        era: "Saban"
    },
    {
        name: "Katherine Hillard (Zeo Pink)",
        color: "pink",
        team: "zeo",
        era: "Saban"
    },
    {
        name: "Trey of Triforia",
        color: "gold",
        team: "zeo",
        era: "Saban"
    },
    {
        name: "Jason Lee Scott (Zeo Gold)",
        color: "gold",
        team: "zeo",
        era: "Saban"
    },
    {
        name: "Tommy Oliver (Turbo Red)",
        color: "red",
        team: "turbo",
        era: "Saban"
    },
    {
        name: "T.J. Johnson (Turbo Red)",
        color: "red",
        team: "turbo",
        era: "Saban"
    },
    {
        name: "Justin Stewart",
        color: "blue",
        team: "turbo",
        era: "Saban"
    },
    {
        name: "Adam Park (Turbo Green)",
        color: "green",
        team: "turbo",
        era: "Saban"
    },
    {
        name: "Carlos Vallerte (Turbo Green)",
        color: "green",
        team: "turbo",
        era: "Saban"
    },
    {
        name: "Tanya Sloan (Turbo Yellow)",
        color: "yellow",
        team: "turbo",
        era: "Saban"
    },
    {
        name: "Ashley Hammond (Turbo Yellow)",
        color: "yellow",
        team: "turbo",
        era: "Saban"
    },
    {
        name: "Katherine Hillard (Turbo Pink)",
        color: "pink",
        team: "turbo",
        era: "Saban"
    },
    {
        name: "Cassie Chan (Turbo Pink)",
        color: "pink",
        team: "turbo",
        era: "Saban"
    },
    {
        name: "Phantom Ranger (Black)",
        color: "black",
        team: "turbo",
        era: "Saban"
    },
    {
        name: "Andros",
        color: "red",
        team: "inspace",
        era: "Saban"
    },
    {
        name: "Carlos Vallerte (In Space Black)",
        color: "black",
        team: "inspace",
        era: "Saban"
    },
    {
        name: "T.J. Johnson (In Space Blue)",
        color: "blue",
        team: "inspace",
        era: "Saban"
    },
    {
        name: "Ashley Hammond (In Space Yellow)",
        color: "yellow",
        team: "inspace",
        era: "Saban"
    },
    {
        name: "Cassie Chan (In Space Pink)",
        color: "pink",
        team: "inspace",
        era: "Saban"
    },
    {
        name: "Zhane",
        color: "silver",
        team: "inspace",
        era: "Saban"
    },
    {
        name: "Leo Corbett",
        color: "red",
        team: "lostgalaxy",
        era: "Saban"
    },
    {
        name: "Kai Chen",
        color: "blue",
        team: "lostgalaxy",
        era: "Saban"
    },
    {
        name: "Damon Henderson",
        color: "green",
        team: "lostgalaxy",
        era: "Saban"
    },
    {
        name: "Maya",
        color: "yellow",
        team: "lostgalaxy",
        era: "Saban"
    },
    {
        name: "Kendrix Morgan",
        color: "pink",
        team: "lostgalaxy",
        era: "Saban"
    },
    {
        name: "Karone",
        color: "pink",
        team: "lostgalaxy",
        era: "Saban"
    },
    {
        name: "Carter Grayson",
        color: "red",
        team: "lightspeed",
        era: "Saban"
    },
    {
        name: "Chad Lee",
        color: "blue",
        team: "lightspeed",
        era: "Saban"
    },
    {
        name: "Joel Rawlings",
        color: "green",
        team: "lightspeed",
        era: "Saban"
    },
    {
        name: "Kelsey Windslow",
        color: "yellow",
        team: "lightspeed",
        era: "Saban"
    },
    {
        name: "Dana Mitchell",
        color: "pink",
        team: "lightspeed",
        era: "Saban"
    },
    {
        name: "Ryan Mitchell (Silver)",
        color: "silver",
        team: "lightspeed",
        era: "Saban"
    },
    {
        name: "Alex Drake",
        color: "red",
        team: "timeforce",
        era: "Saban"
    },
    {
        name: "Wesley Collins",
        color: "red",
        team: "timeforce",
        era: "Saban"
    },
    {
        name: "Eric Myers",
        color: "red",
        team: "timeforce",
        era: "Saban"
    },
    {
        name: "Jen Scotts",
        color: "pink",
        team: "timeforce",
        era: "Saban"
    },
    {
        name: "Lucas Kendall",
        color: "blue",
        team: "timeforce",
        era: "Saban"
    },
    {
        name: "Katie Walker",
        color: "yellow",
        team: "timeforce",
        era: "Saban"
    },
    {
        name: "Trip",
        color: "green",
        team: "timeforce",
        era: "Saban"
    },
    {
        name: "Cole Evans",
        color: "red",
        team: "wildforce",
        era: "Disney"
    },
    {
        name: "Taylor Earhardt",
        color: "yellow",
        team: "wildforce",
        era: "Disney"
    },
    {
        name: "Max Cooper",
        color: "blue",
        team: "wildforce",
        era: "Disney"
    },
    {
        name: "Danny Delgado",
        color: "black",
        team: "wildforce",
        era: "Disney"
    },
    {
        name: "Alyssa EnrilÃ©",
        color: "white",
        team: "wildforce",
        era: "Disney"
    },
    {
        name: "Merrick Baliton",
        color: "silver",
        team: "wildforce",
        era: "Disney"
    },
    {
        name: "Shane Clarke",
        color: "red",
        team: "ninjastorm",
        era: "Disney"
    },
    {
        name: "Hunter Bradley",
        color: "red",
        team: "ninjastorm",
        era: "Disney"
    },
    {
        name: "Tori Hanson",
        color: "blue",
        team: "ninjastorm",
        era: "Disney"
    },
    {
        name: "Blake Bradley",
        color: "blue",
        team: "ninjastorm",
        era: "Disney"
    },
    {
        name: "Dustin Brooks",
        color: "yellow",
        team: "ninjastorm",
        era: "Disney"
    },
    {
        name: "Cameron Watanabe",
        color: "green",
        team: "ninjastorm",
        era: "Disney"
    },
    {
        name: "Conner McKnight",
        color: "red",
        team: "dinothunder",
        era: "Disney"
    },
    {
        name: "Ethan James",
        color: "blue",
        team: "dinothunder",
        era: "Disney"
    },
    {
        name: "Kira Ford",
        color: "yellow",
        team: "dinothunder",
        era: "Disney"
    },
    {
        name: "Tommy Oliver (Dino Thunder Black)",
        color: "black",
        team: "dinothunder",
        era: "Disney"
    },
    {
        name: "Trent Fernandez-Mercer",
        color: "white",
        team: "dinothunder",
        era: "Disney"
    },
    {
        name: "Jack Landors",
        color: "red",
        team: "spd",
        era: "Disney"
    },
    {
        name: "Sky Tate (SPD Red)",
        color: "red",
        team: "spd",
        era: "Disney"
    },
    {
        name: "Bridge Carson (SPD Red)",
        color: "red",
        team: "spd",
        era: "Disney"
    },
    {
        name: "Sky Tate (SPD Blue)",
        color: "blue",
        team: "spd",
        era: "Disney"
    },
    {
        name: "Bridge Carson (SPD Blue)",
        color: "blue",
        team: "spd",
        era: "Disney"
    },
    {
        name: "Bridge Carson (SPD Green)",
        color: "green",
        team: "spd",
        era: "Disney"
    },
    {
        name: "Z Delgado",
        color: "yellow",
        team: "spd",
        era: "Disney"
    },
    {
        name: "Syd Drew",
        color: "pink",
        team: "spd",
        era: "Disney"
    },
    {
        name: "Anubis Cruger (Black)",
        color: "black",
        team: "spd",
        era: "Disney"
    },
    {
        name: "Sam (White)",
        color: "white",
        team: "spd",
        era: "Disney"
    },
    {
        name: "Kat Manx (White)",
        color: "white",
        team: "spd",
        era: "Disney"
    },
    {
        name: "Nova (Silver)",
        color: "silver",
        team: "spd",
        era: "Disney"
    },
    {
        name: "Nick Russell",
        color: "red",
        team: "mysticforce",
        era: "Disney"
    },
    {
        name: "Chip Thorn",
        color: "yellow",
        team: "mysticforce",
        era: "Disney"
    },
    {
        name: "Madison Rocca",
        color: "blue",
        team: "mysticforce",
        era: "Disney"
    },
    {
        name: "Vida Rocca",
        color: "pink",
        team: "mysticforce",
        era: "Disney"
    },
    {
        name: "Xander Bly",
        color: "green",
        team: "mysticforce",
        era: "Disney"
    },
    {
        name: "Udonna",
        color: "white",
        team: "mysticforce",
        era: "Disney"
    },
    {
        name: "Daggeron",
        color: "gold",
        team: "mysticforce",
        era: "Disney"
    },
    {
        name: "Leanbow",
        color: "red",
        team: "mysticforce",
        era: "Disney"
    },
    {
        name: "Mack Hartford",
        color: "red",
        team: "operationoverdrive",
        era: "Disney"
    },
    {
        name: "Will Aston",
        color: "black",
        team: "operationoverdrive",
        era: "Disney"
    },
    {
        name: "Dax Lo",
        color: "blue",
        team: "operationoverdrive",
        era: "Disney"
    },
    {
        name: "Ronny Robinson",
        color: "yellow",
        team: "operationoverdrive",
        era: "Disney"
    },
    {
        name: "Rose Ortiz",
        color: "pink",
        team: "operationoverdrive",
        era: "Disney"
    },
    {
        name: "Tyzonn",
        color: "silver",
        team: "operationoverdrive",
        era: "Disney"
    },
    {
        name: "Casey Rhodes",
        color: "red",
        team: "junglefury",
        era: "Disney"
    },
    {
        name: "Lily Chilman",
        color: "yellow",
        team: "junglefury",
        era: "Disney"
    },
    {
        name: "Theo Martin",
        color: "blue",
        team: "junglefury",
        era: "Disney"
    },
    {
        name: "RJ",
        color: "purple",
        team: "junglefury",
        era: "Disney"
    },
    {
        name: "Dominic Hargan",
        color: "white",
        team: "junglefury",
        era: "Disney"
    },
    {
        name: "Elephant Spirit Ranger",
        color: "green",
        team: "junglefury",
        era: "Disney"
    },
    {
        name: "Bat Spirit Ranger",
        color: "black",
        team: "junglefury",
        era: "Disney"
    },
    {
        name: "Shark Spirit Ranger",
        color: "blue",
        team: "junglefury",
        era: "Disney"
    },
    {
        name: "Scott Truman",
        color: "red",
        team: "rpm",
        era: "Disney"
    },
    {
        name: "Flynn McAllistair",
        color: "blue",
        team: "rpm",
        era: "Disney"
    },
    {
        name: "Summer Landsdown",
        color: "yellow",
        team: "rpm",
        era: "Disney"
    },
    {
        name: "Ziggy Grover",
        color: "green",
        team: "rpm",
        era: "Disney"
    },
    {
        name: "Dillon",
        color: "black",
        team: "rpm",
        era: "Disney"
    },
    {
        name: "Gem",
        color: "gold",
        team: "rpm",
        era: "Disney"
    },
    {
        name: "Gemma",
        color: "silver",
        team: "rpm",
        era: "Disney"
    },
    {
        name: "Jayden Shiba",
        color: "red",
        team: "samurai",
        era: "Neo-Saban"
    },
    {
        name: "Lauren Shiba",
        color: "red",
        team: "samurai",
        era: "Neo-Saban"
    },
    {
        name: "Kevin",
        color: "blue",
        team: "samurai",
        era: "Neo-Saban"
    },
    {
        name: "Mia Watanabe",
        color: "pink",
        team: "samurai",
        era: "Neo-Saban"
    },
    {
        name: "Mike",
        color: "green",
        team: "samurai",
        era: "Neo-Saban"
    },
    {
        name: "Emily",
        color: "yellow",
        team: "samurai",
        era: "Neo-Saban"
    },
    {
        name: "Antonio Garcia",
        color: "gold",
        team: "samurai",
        era: "Neo-Saban"
    },
    {
        name: "Troy Burrows",
        color: "red",
        team: "megaforce",
        era: "Neo-Saban"
    },
    {
        name: "Noah Carver",
        color: "blue",
        team: "megaforce",
        era: "Neo-Saban"
    },
    {
        name: "Gia Moran",
        color: "yellow",
        team: "megaforce",
        era: "Neo-Saban"
    },
    {
        name: "Jake Holling (Megaforce Black)",
        color: "black",
        team: "megaforce",
        era: "Neo-Saban"
    },
    {
        name: "Jake Holling (Super Megaforce Green)",
        color: "green",
        team: "megaforce",
        era: "Neo-Saban"
    },
    {
        name: "Emma Goodall",
        color: "pink",
        team: "megaforce",
        era: "Neo-Saban"
    },
    {
        name: "Robo Knight (Silver)",
        color: "silver",
        team: "megaforce",
        era: "Neo-Saban"
    },
    {
        name: "Orion",
        color: "silver",
        team: "megaforce",
        era: "Neo-Saban"
    },
    {
        name: "Tyler Navarro",
        color: "red",
        team: "dinocharge",
        era: "Neo-Saban"
    },
    {
        name: "Chase Randall",
        color: "black",
        team: "dinocharge",
        era: "Neo-Saban"
    },
    {
        name: "Koda",
        color: "blue",
        team: "dinocharge",
        era: "Neo-Saban"
    },
    {
        name: "Riley Griffin",
        color: "green",
        team: "dinocharge",
        era: "Neo-Saban"
    },
    {
        name: "Shelby Watkins",
        color: "pink",
        team: "dinocharge",
        era: "Neo-Saban"
    },
    {
        name: "Sir Ivan of Zandar",
        color: "gold",
        team: "dinocharge",
        era: "Neo-Saban"
    },
    {
        name: "James Navarro",
        color: "blue",
        team: "dinocharge",
        era: "Neo-Saban"
    },
    {
        name: "Prince Phillip III",
        color: "silver",
        team: "dinocharge",
        era: "Neo-Saban"
    },
    {
        name: "Albert Smith",
        color: "purple",
        team: "dinocharge",
        era: "Neo-Saban"
    },
    {
        name: "Kendall Morgan",
        color: "purple",
        team: "dinocharge",
        era: "Neo-Saban"
    },
    {
        name: "Zenowing",
        color: "silver",
        team: "dinocharge",
        era: "Neo-Saban"
    },
    {
        name: "Dane Romero",
        color: "red",
        team: "ninjasteel",
        era: "Neo-Saban"
    },
    {
        name: "Brody Romero",
        color: "red",
        team: "ninjasteel",
        era: "Neo-Saban"
    },
    {
        name: "Mick Kanic",
        color: "red",
        team: "ninjasteel",
        era: "Neo-Saban"
    },
    {
        name: "Preston Tien",
        color: "blue",
        team: "ninjasteel",
        era: "Neo-Saban"
    },
    {
        name: "Calvin Maxwell",
        color: "yellow",
        team: "ninjasteel",
        era: "Neo-Saban"
    },
    {
        name: "Hayley Foster",
        color: "white",
        team: "ninjasteel",
        era: "Neo-Saban"
    },
    {
        name: "Sarah Thompson",
        color: "pink",
        team: "ninjasteel",
        era: "Neo-Saban"
    },
    {
        name: "Levi Weston",
        color: "gold",
        team: "ninjasteel",
        era: "Neo-Saban"
    },
    {
        name: "Devon Daniels",
        color: "red",
        team: "beastmorphers",
        era: "Hasbro"
    },
    {
        name: "Ravi Shaw",
        color: "blue",
        team: "beastmorphers",
        era: "Hasbro"
    },
    {
        name: "Zoey Reeves",
        color: "yellow",
        team: "beastmorphers",
        era: "Hasbro"
    },
    {
        name: "Nate Silva",
        color: "gold",
        team: "beastmorphers",
        era: "Hasbro"
    },
    {
        name: "Steel",
        color: "silver",
        team: "beastmorphers",
        era: "Hasbro"
    },
    {
        name: "Zayto",
        color: "red",
        team: "dinofury",
        era: "Hasbro"
    },
    {
        name: "Ollie Akana",
        color: "blue",
        team: "dinofury",
        era: "Hasbro"
    },
    {
        name: "Amelia Jones",
        color: "pink",
        team: "dinofury",
        era: "Hasbro"
    },
    {
        name: "Izzy Garcia",
        color: "green",
        team: "dinofury",
        era: "Hasbro"
    },
    {
        name: "Javi Garcia",
        color: "black",
        team: "dinofury",
        era: "Hasbro"
    },
    {
        name: "Aiyon",
        color: "green",
        team: "dinofury",
        era: "Hasbro"
    }
]

let target = rangers[9];
let guess = "Kira Ford";
let guessNum = 0;

let inputElem = document.querySelector("#input");
let guesses = document.querySelector(".guesses").children;
let feedback = document.querySelector(".feedback");

let form = document.querySelector("#form");
form.addEventListener("submit", (event) => {
    event.preventDefault();
    let ranger = getRanger(inputElem.value);
    if (ranger) {
        displayGuess(guesses[guessNum], ranger);
        guessNum++;
    }
    if (guessNum == guesses.length) {
        endGuessing();
    }
    inputElem.value = "";
})

function getRanger(rangerName) {
    for (let i = 0; i < rangers.length; i++) {
        if (rangers[i].name === rangerName) {
            return rangers[i];
        }
    }
    return "";
}

function displayGuess(guessElem, ranger) {
    let correctCount = 0;
    let nameElem = guessElem.children[0];
    let colorElem = guessElem.children[1];
    let teamElem = guessElem.children[2];
    let eraElem = guessElem.children[3];

    nameElem.style.background = "white";
    nameElem.textContent = ranger.name.split("(")[0];
    correctCount += compareGuess(ranger.name, target.name, nameElem);

    colorElem.className = `guess__color ${ranger.color}-ranger`;
    correctCount += compareGuess(ranger.color, target.color, colorElem);

    teamElem.style.background = "black";
    teamElem.innerHTML = `<img src="/img/${ranger.team}_logo.png" alt="${ranger.team}" Logo />`;
    correctCount += compareGuess(ranger.team, target.team, teamElem);

    eraElem.style.background = "white";
    eraElem.innerHTML = `<img src="/img/${ranger.era}_logo.png" alt="${ranger.era}" Logo />`;
    correctCount += compareGuess(ranger.era, target.era, eraElem);

    if (correctCount == guessElem.children.length) {
        endGuessing()
    }
}

function compareGuess(guess, target, elem) {
    if (guess == target) {
        elem.style.borderColor = "green";
        return 1;
    }
    else {
        elem.style.borderColor = "#b83030";
        return 0;
    }
}

function endGuessing() {
    form.style.display = "none";
    feedback.innerHTML = `<p>Next Mighty Morphle in</p><p class="time">00:00:00</p><p>The correct ranger was <p class="ranger">${target.name}</p></p>`;
}

//Autocomplete
function autocomplete(inp, arr) {
    /*the autocomplete function takes two arguments,
    the text field element and an array of possible autocompleted values:*/
    var currentFocus;
    /*execute a function when someone writes in the text field:*/
    inp.addEventListener("input", function (e) {
        var a, b, i, val = this.value;
        /*close any already open lists of autocompleted values*/
        closeAllLists();
        if (!val) { return false; }
        currentFocus = -1;
        /*create a DIV element that will contain the items (values):*/
        a = document.createElement("DIV");
        a.setAttribute("id", this.id + "autocomplete-list");
        a.setAttribute("class", "autocomplete-items");
        /*append the DIV element as a child of the autocomplete container:*/
        this.parentNode.appendChild(a);
        /*for each item in the array...*/
        for (i = 0; i < arr.length; i++) {
            /*check if the item starts with the same letters as the text field value:*/
            if (arr[i].name.substr(0, val.length).toUpperCase() == val.toUpperCase()) {
                /*create a DIV element for each matching element:*/
                b = document.createElement("DIV");
                /*make the matching letters bold:*/
                b.innerHTML = "<strong>" + arr[i].name.substr(0, val.length) + "</strong>";
                b.innerHTML += arr[i].name.substr(val.length);
                /*insert a input field that will hold the current array item's value:*/
                b.innerHTML += "<input type='hidden' value='" + arr[i].name + "'>";
                /*execute a function when someone clicks on the item value (DIV element):*/
                b.addEventListener("click", function (e) {
                    /*insert the value for the autocomplete text field:*/
                    inp.value = this.getElementsByTagName("input")[0].value;
                    /*close the list of autocompleted values,
                    (or any other open lists of autocompleted values:*/
                    closeAllLists();
                });
                a.appendChild(b);
            }
        }
    });
    /*execute a function presses a key on the keyboard:*/
    inp.addEventListener("keydown", function (e) {
        var x = document.getElementById(this.id + "autocomplete-list");
        if (x) x = x.getElementsByTagName("div");
        if (e.keyCode == 40) {
            /*If the arrow DOWN key is pressed,
            increase the currentFocus variable:*/
            currentFocus++;
            /*and and make the current item more visible:*/
            addActive(x);
        } else if (e.keyCode == 38) { //up
            /*If the arrow UP key is pressed,
            decrease the currentFocus variable:*/
            currentFocus--;
            /*and and make the current item more visible:*/
            addActive(x);
        } else if (e.keyCode == 13) {
            /*If the ENTER key is pressed, prevent the form from being submitted,*/
            e.preventDefault();
            if (currentFocus > -1) {
                /*and simulate a click on the "active" item:*/
                if (x) x[currentFocus].click();
            }
        }
    });
    function addActive(x) {
        /*a function to classify an item as "active":*/
        if (!x) return false;
        /*start by removing the "active" class on all items:*/
        removeActive(x);
        if (currentFocus >= x.length) currentFocus = 0;
        if (currentFocus < 0) currentFocus = (x.length - 1);
        /*add class "autocomplete-active":*/
        x[currentFocus].classList.add("autocomplete-active");
    }
    function removeActive(x) {
        /*a function to remove the "active" class from all autocomplete items:*/
        for (var i = 0; i < x.length; i++) {
            x[i].classList.remove("autocomplete-active");
        }
    }
    function closeAllLists(elmnt) {
        /*close all autocomplete lists in the document,
        except the one passed as an argument:*/
        var x = document.getElementsByClassName("autocomplete-items");
        for (var i = 0; i < x.length; i++) {
            if (elmnt != x[i] && elmnt != inp) {
                x[i].parentNode.removeChild(x[i]);
            }
        }
    }
    /*execute a function when someone clicks in the document:*/
    document.addEventListener("click", function (e) {
        closeAllLists(e.target);
    });
}

autocomplete(inputElem, rangers);